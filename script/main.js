const gothicTheme = {
  themeName: "Gothic",
  questionsEasy: [
    {
      id: 1,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Y'berion", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 2,
      question: "Która osoba z podanych NIE jest przyjacielem Bezimiennego?",
      answers: [
        { text: "Cipher", correct: true },
        { text: "Lee", correct: false },
        { text: "Milten", correct: false },
        { text: "Diego", correct: false },
      ],
    },
    {
      id: 3,
      question:
        "Kto jest dowódcą paladynów w Górniczej Dolinie, a kto w Khorinis?",
      answers: [
        { text: "Khorinis - Lord Hagen, GD - Garond", correct: true },
        { text: "Khorinis - Lord Garond, GD - Hagen", correct: false },
        { text: "Khorinis - Lord Rhobar, GD - Orik", correct: false },
        { text: "Khorinis - Lord Orik, GD - Rhobar", correct: false },
      ],
    },
    {
      id: 4,
      question:
        "Które z podanych krain możemy odwiedzić podczas gameplayu Gothica 3",
      answers: [
        { text: "Myrtana, Nordmar, Varant", correct: true },
        { text: "Myrtana, Północne Ziemie, Varant", correct: false },
        { text: "Normard, Varant, Północne Ziemie", correct: false },
        {
          text: "Wyspy Południowe, Północne Ziemie, Niezbadane Krainy",
          correct: false,
        },
      ],
    },
    {
      id: 5,
      question: "Do oficjalnego kanonu zaliczamy, które części Gothica?",
      answers: [
        {
          text: "Gothic, Gothic 2, Gothic 2: Noc Kruka, Gothic 3",
          correct: true,
        },
        {
          text: "Gothic, Gothic 2: Noc Kruka, Gothic 3",
          correct: false,
        },
        {
          text: "Gothic, Gothic 2, Gothic 3",
          correct: false,
        },
        {
          text: "Gothic, Gothic: Mroczne Tajemnice, Gothic 2, Gothic 2: Noc Kruka, Gothic 3, Gothic 3: Zmierzch Bogów",
          correct: false,
        },
      ],
    },
    {
      id: 6,
      question: "Kto jest głównym antagonistą w dwóch pierwszych częściach gry",
      answers: [
        { text: "Śniący i Smok Ożywieniec", correct: true },
        { text: "Śniący i Bestia ", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 7,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 8,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 9,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 10,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
  ],
  questionsMedium: [
    {
      id: 1,
      question: "Ile było magów według kanonu tworzyło barierę?",
      answers: [
        { text: "12", correct: true },
        { text: "13", correct: false },
        { text: "14", correct: false },
        { text: "15", correct: false },
      ],
    },
    {
      id: 2,
      question: "Co się stanie jeśli zaprowadzimy Diega do Mora Sul?",
      answers: [
        { text: "Wykonamy nieistniejące zadanie", correct: true },
        { text: "Nic", correct: false },
        { text: "Wykonamy istniejące zadanie", correct: false },
        { text: "Ludzie z Mora Sul nas zaatakują", correct: false },
      ],
    },
    {
      id: 3,
      question: "Z kogo składa się Najwyższa Rada?",
      answers: [
        { text: "Pyrokar, Ulthar, Serpentes", correct: true },
        {
          text: "Pyrokar, Serpentes, po akcji Gothic 2 Bezimienny",
          correct: false,
        },
        { text: "Pedro, Ulthar, Rhobar", correct: false },
        { text: "Segio, Pyrokar, Rhobar", correct: false },
      ],
    },
    {
      id: 4,
      question:
        "Które z podanych krain możemy odwiedzić podczas gameplayu Gothica 3",
      answers: [
        { text: "Myrtana, Nordmar, Varant", correct: true },
        { text: "Myrtana, Północne Ziemie, Varant", correct: false },
        { text: "Normard, Varant, Północne Ziemie", correct: false },
        {
          text: "Wyspy Południowe, Północne Ziemie, Niezbadane Krainy",
          correct: false,
        },
      ],
    },
    {
      id: 5,
      question: "Do oficjalnego kanonu zaliczamy, które części Gothica?",
      answers: [
        {
          text: "Gothic, Gothic 2, Gothic 2: Noc Kruka, Gothic 3",
          correct: true,
        },
        {
          text: "Gothic, Gothic 2: Noc Kruka, Gothic 3",
          correct: false,
        },
        {
          text: "Gothic, Gothic 2, Gothic 3",
          correct: false,
        },
        {
          text: "Gothic, Gothic: Mroczne Tajemnice, Gothic 2, Gothic 2: Noc Kruka, Gothic 3, Gothic 3: Zmierzch Bogów",
          correct: false,
        },
      ],
    },
    {
      id: 6,
      question: "Kto jest głównym antagonistą w dwóch pierwszych częściach gry",
      answers: [
        { text: "Śniący i Smok Ożywieniec", correct: true },
        { text: "Śniący i Bestia ", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 7,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 8,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 9,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 10,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
  ],
  questionsHard: [
    {
      id: 1,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Y'berion", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 2,
      question: "Która osoba z podanych NIE jest przyjacielem Bezimiennego?",
      answers: [
        { text: "Cipher", correct: true },
        { text: "Lee", correct: false },
        { text: "Milten", correct: false },
        { text: "Diego", correct: false },
      ],
    },
    {
      id: 3,
      question:
        "Kto jest dowódcą paladynów w Górniczej Dolinie, a kto w Khorinis?",
      answers: [
        { text: "Khorinis - Lord Hagen, GD - Garond", correct: true },
        { text: "Khorinis - Lord Garond, GD - Hagen", correct: false },
        { text: "Khorinis - Lord Rhobar, GD - Orik", correct: false },
        { text: "Khorinis - Lord Orik, GD - Rhobar", correct: false },
      ],
    },
    {
      id: 4,
      question:
        "Które z podanych krain możemy odwiedzić podczas gameplayu Gothica 3",
      answers: [
        { text: "Myrtana, Nordmar, Varant", correct: true },
        { text: "Myrtana, Północne Ziemie, Varant", correct: false },
        { text: "Normard, Varant, Północne Ziemie", correct: false },
        {
          text: "Wyspy Południowe, Północne Ziemie, Niezbadane Krainy",
          correct: false,
        },
      ],
    },
    {
      id: 5,
      question: "Do oficjalnego kanonu zaliczamy, które części Gothica?",
      answers: [
        {
          text: "Gothic, Gothic 2, Gothic 2: Noc Kruka, Gothic 3",
          correct: true,
        },
        {
          text: "Gothic, Gothic 2: Noc Kruka, Gothic 3",
          correct: false,
        },
        {
          text: "Gothic, Gothic 2, Gothic 3",
          correct: false,
        },
        {
          text: "Gothic, Gothic: Mroczne Tajemnice, Gothic 2, Gothic 2: Noc Kruka, Gothic 3, Gothic 3: Zmierzch Bogów",
          correct: false,
        },
      ],
    },
    {
      id: 6,
      question: "Kto jest głównym antagonistą w dwóch pierwszych częściach gry",
      answers: [
        { text: "Śniący i Smok Ożywieniec", correct: true },
        { text: "Śniący i Bestia ", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 7,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 8,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 9,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
    {
      id: 10,
      question: "Kto spuszcza łomot Bezimiennemu po zesłaniu do kolonii?",
      answers: [
        { text: "Bullit", correct: true },
        { text: "Diego", correct: false },
        { text: "Rhobar", correct: false },
        { text: "Wrzód", correct: false },
      ],
    },
  ],
  guilds: [
    {
      easy: [
        {
          id: 1,
          guildName: "Kopacz",
          quoteText: "'Nie ma tu nic ciekawego.'",
          desc: "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
        {
          id: 2,
          guildName: "obywatel",
          quoteText: "Nie ma tu nic ciekawego.",
          desc: "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
        {
          id: 3,
          guildName: "strażnik",
          quote: "Nie ma tu nic ciekawego.",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
      ],
      medium: [
        {
          guildName: "najemnik",
          quote: "Nie ma tu nic ciekawego.",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
        {
          guildName: "mag",
          quote: "Nie ma tu nic ciekawego.",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
        {
          guildName: "paladyn",
          quote: "Nie ma tu nic ciekawego.",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
      ],
      hard: [
        {
          guildName: "magnat",
          quote: "Nie ma tu nic ciekawego.",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
        {
          guildName: "Bezimienny",
          quote: "Wszystko będzie w porządku.",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
        {
          guildName: "Wrzód",
          quote: "Hej kolego!",
          longDesc:
            "    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium delectus ullam quam neque aliquam quod impedit, eligendi autem velit asperiores?",
        },
      ],
    },
  ],
};

const difficulties = document.querySelectorAll(".easy, .medium, .hard");

// difficulty ID [easy = 1, medium = 2, hard = 3]
let difficultyID = 1;
let currentDiffGuilds;
let currentDiff;
let questNumber = 1;
let points = 0;
let guildId = 1;

difficulties.forEach((diff) => {
  if (diff.classList.contains("easy")) {
    diff.addEventListener("click", () => {
      showQAA();
      currentDiff = gothicTheme.questionsEasy;
      currentDiffGuilds = gothicTheme.guilds[0].easy;
      // console.log(currentDiff);
      const tak = randomQA(currentDiff);
      // console.log(tak);
      chooseQuestion(tak);
    });
  } else if (diff.classList.contains("medium")) {
    diff.addEventListener("click", () => {
      showQAA();
      currentDiff = gothicTheme.questionsMedium;
      currentDiffGuilds = gothicTheme.guilds[0].medium;
      chooseQuestion();
    });
  } else if (diff.classList.contains("hard")) {
    diff.addEventListener("click", () => {
      showQAA();
      currentDiff = gothicTheme.questionsHard;
      currentDiffGuilds = gothicTheme.guilds[0].hard;
      chooseQuestion();
    });
  }
});

const showQAA = () => {
  document.querySelector("main").classList.toggle("nvisible");
  document.querySelector(".qAndA").classList.toggle("nvisible");
};

const randomQA = (currentDiff) => {
  // console.log(currentDiff);

  const questionsIDs = currentDiff.map((e) => e.id);

  const randomQuestionsIDs = questionsIDs.sort(() => Math.random() - 0.5);

  const randomAnswers = currentDiff.forEach((e) => {
    const randomOrder = e.answers.sort(() => Math.random() - 0.5);
    return randomOrder;
  });
  return randomQuestionsIDs;
};

const chooseQuestion = (randomQuestionsIDs) => {
  // console.log(randomQuestionsIDs);
  const currentQuestID = randomQuestionsIDs.find(
    (e) => e === randomQuestionsIDs[0]
  );
  const currentQuest = currentDiff.find((e) => e.id === currentQuestID);

  currentQuest.answers.forEach((ans) => {
    if (ans.correct) return (correctAnswer = ans.text);
  });

  document.querySelector("h3.questionValue").textContent =
    currentQuest.question;
  document.querySelector(".questionNumber").textContent = questNumber;

  document.querySelectorAll(".answer").forEach((ans) => {
    if (ans.classList.contains("answer1")) {
      ans.textContent = currentQuest.answers[0].text;
    } else if (ans.classList.contains("answer2")) {
      ans.textContent = currentQuest.answers[1].text;
    } else if (ans.classList.contains("answer3")) {
      ans.textContent = currentQuest.answers[2].text;
    } else {
      ans.textContent = currentQuest.answers[3].text;
    }
    if (ans.textContent === correctAnswer) {
      ans.setAttribute("data-correct", 1);
    }
  });
  questNumber++;
};
const answers = document.querySelectorAll(".answer");

const chooseAnswer = () => {
  answers.forEach((answer) => {
    answer.addEventListener("click", () => {
      checkIfCorrect(answer);
      answers.forEach((ans) => {
        ans.removeAttribute("data-correct");
      });
      randomQuestionsIDs.shift();
      if (questNumber <= 10) {
        chooseQuestion();
      } else {
        if (points >= 4 && points <= 7) guildId = 2;
        else if (points > 8) guildId = 3;
        endScreen();
      }
    });
  });
};

const checkIfCorrect = (ans) => {
  if (ans.hasAttribute("data-correct")) {
    points++;
  }
};

chooseAnswer();
